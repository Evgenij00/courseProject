@model courseProject.Models.Question;

@{
    ViewData["Title"] = "Вопрос";
}

<div class="question-container">

    <div class="close-test">
        <a class="btn-close" href="~/">&times;</a>
    </div>

    <div class="num-quest-wrap">
        <span class="num-quest">@Model.Number/@ViewBag.Test.NumberOfQuestions</span>
    </div>

    <div class="container pt-5">
        <h1>@Model.Number. @Model.Name</h1>

        @if (Model.Number == ViewBag.Test.NumberOfQuestions)
        {
            <form action="~/Home/Result/@ViewBag.Test.Id" method="post" class="answers">
                @foreach (var a in Model.Answers)
                {
                    <div class="answer">
                        @*TODO: заменить answer_score на test_score*@
                        <input type="radio" name="answer_score" value="@a.Score" id="@a.Id">
                        <label for="@a.Id">@a.Name</label>
                    </div>

                }

                <input type="hidden" name="id" value="@ViewBag.Test.Id" />
                @*<input type="hidden" name="num" value="@(Model.Number + 1)" />*@


                <button type="submit" class="btn btn-secondary">Завершить</button>
            </form>
        }
        else
        {
            <form action="~/Home/Question/@ViewBag.Test.Id" method="post" class="answers">
                @foreach (var a in Model.Answers)
                {
                    <div class="answer">
                        @*TODO: заменить answer_score на test_score*@
                        <input type="radio" name="answer_score" value="@a.Score" id="@a.Id">
                        <label for="@a.Id">@a.Name</label>
                    </div>

                }

                <input type="hidden" name="id" value="@ViewBag.Test.Id" />
                <input type="hidden" name="num" value="@(Model.Number + 1)" />

                <button type="submit" class="btn btn-secondary">Далее</button>
                </form>
        }



    </div>

 <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
